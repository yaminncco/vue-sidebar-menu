var VueSidebarMenu=function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function o(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=t.ref(!1),a=t.ref(null),s=t.ref(null),u=t.reactive({top:0,height:0,padding:"",maxHeight:0,maxWidth:0}),c=t.ref(null),d=t.ref(window.location.pathname+window.location.search+window.location.hash);function m(e,n){var l=0;function i(e){return e.map((function(e){return e.child?o(o({},e),{},{id:e.id||l++,child:i(e.child)}):o(o({},e),{},{id:e.id||l++})}))}var m=t.computed((function(){return i(e.menu)})),p=t.computed((function(){return r.value?e.widthCollapsed:e.width})),v=t.computed((function(){return[r.value?"vsm_collapsed":"vsm_expanded",e.theme?"vsm_".concat(e.theme):"",e.rtl?"vsm_rtl":"",e.relative?"vsm_relative":""]})),f=t.computed((function(){return[{position:"absolute"},{top:"".concat(u.top+u.height,"px")},e.rtl?{right:e.widthCollapsed}:{left:e.widthCollapsed},{width:"".concat(u.maxWidth,"px")},{"max-height":"".concat(u.maxHeight,"px")},{"overflow-y":"auto"}]})),h=t.computed((function(){return[{position:"absolute"},{top:"".concat(u.top,"px")},e.rtl?{right:e.widthCollapsed}:{left:e.widthCollapsed},{width:"".concat(u.maxWidth,"px")},{height:"".concat(u.height,"px")},{"padding-right":"".concat(u.padding)},{"padding-left":"".concat(u.padding)},{"z-index":"20"}]})),g=t.computed((function(){return[{position:"absolute"},{top:"".concat(u.top,"px")},e.rtl?{right:"0px"}:{left:"0px"},{width:"".concat(u.maxWidth+parseInt(e.widthCollapsed),"px")},{height:"".concat(u.height,"px")},{"z-index":"10"}]})),b=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800;s.value&&(c.value&&clearTimeout(c.value),e?s.value=null:c.value=setTimeout((function(){s.value=null}),t))};return{sidebarMenuRef:a,isCollapsed:r,computedMenu:m,sidebarWidth:p,sidebarClass:v,currentRoute:d,onToggleClick:function(){b(),r.value=!r.value,n.emit("update:collapsed",r.value)},onItemClick:function(e,t){n.emit("item-click",e,t)},onRouteChange:function(){d.value=window.location.pathname+window.location.search+window.location.hash},mobileItem:s,mobileItemStyle:h,mobileItemDropdownStyle:f,mobileItemBackgroundStyle:g,setMobileItem:function(t){var n=t.item,o=t.itemEl;c.value&&clearTimeout(c.value);var l=o.children[0],i=l.getBoundingClientRect(),r=i.top,d=i.bottom,m=i.height,p=a.value.getBoundingClientRect(),v=p.left,f=p.right,h=l.offsetParent.getBoundingClientRect().top,g=window.innerHeight,b=window.innerWidth,k=0,y=b,C=parseInt(e.width)-parseInt(e.widthCollapsed);if(e.relative){var w=a.value.parentElement;g=w.clientHeight,b=w.clientWidth,k=w.getBoundingClientRect().top,y=w.getBoundingClientRect().right}var S=e.rtl?b-(y-v):b-f;s.value=n,u.top=r-h,u.height=m,u.padding=window.getComputedStyle(l).paddingRight,u.maxWidth=S<=C?S:C,u.maxHeight=g-(d-k)},unsetMobileItem:b,mobileItemTimeout:c}}function p(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}function v(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function f(e,t){return Array.isArray(e)?h(e,t):Array.isArray(t)?h(t,e):e===t}function h(e,t){return Array.isArray(t)?e.length===t.length&&e.every((function(e,n){return e===t[n]})):1===e.length&&e[0]===t}var g=t.ref(null);function b(e){var n=t.getCurrentInstance().appContext.config.globalProperties.$router,i=t.inject("vsm-props"),r=t.inject("emitItemClick"),a=t.inject("emitScrollUpdate"),s=m(i),u=s.isCollapsed,c=s.currentRoute,d=s.mobileItem,h=s.setMobileItem,b=s.unsetMobileItem,k=s.mobileItemTimeout,y=t.ref(!1),C=t.ref(!1),w=t.computed((function(){return B(e.item)||x(e.item.child)})),S=t.computed((function(){return B(e.item,!0)})),B=function(e,t){if(!e.href||e.external)return!1;if(n){var o=n.resolve(e.href),i=n.currentRoute.value,r=function(e,t){var n=e.matched,o=n.length,l=n[o-1],i=t.matched;if(!l||!i.length)return-1;var r=i.findIndex(v.bind(null,l));if(r>-1)return r;var a=p(n[o-2]);return o>1&&p(l)===a&&i[i.length-1].path!==a?i.findIndex(v.bind(null,n[o-2])):r}(o,i);return t||e.exact?r>-1&&r===i.matched.length-1&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!f(e[n],t[n]))return!1;return!0}(i.params,o.params):r>-1&&function(e,t){var n=function(n){var o=t[n],l=e[n];if("string"==typeof o){if(o!==l)return{v:!1}}else if(!Array.isArray(l)||l.length!==o.length||o.some((function(e,t){return e!==l[t]})))return{v:!1}};for(var o in t){var i=n(o);if("object"===l(i))return i.v}return!0}(i.params,o.params)}return e.href===c.value},x=function e(t){return!!t&&t.some((function(t){return B(t)||e(t.child)}))},M=function(t,n){O.value||u.value&&I.value&&setTimeout((function(){var o;(null===(o=d.value)||void 0===o?void 0:o.id)!==e.item.id&&(h({item:e.item,itemEl:n}),E.value=!0),"click"!==t.type||_.value||b(!1)}),0)},E=t.computed({get:function(){var t;return!!_.value&&(u.value&&I.value?O.value:!!i.showChild||(i.showOneChild&&I.value?e.item.id===(null===(t=g.value)||void 0===t?void 0:t.id):y.value))},set:function(t){i.showOneChild&&I.value&&(g.value=t?e.item:null),y.value=t}}),O=t.computed((function(){var t;return u.value&&I.value?e.item.id===(null===(t=d.value)||void 0===t?void 0:t.id):C.value})),I=t.computed((function(){return 1===e.level})),L=t.computed((function(){return u.value?!(!e.item.hidden||void 0!==e.item.hiddenOnCollapse)||!0===e.item.hiddenOnCollapse:!0===e.item.hidden})),_=t.computed((function(){return!!(e.item.child&&e.item.child.length>0)})),P=t.computed((function(){return["vsm--link","vsm--link_level-".concat(e.level),{"vsm--link_mobile":H.value},{"vsm--link_hover":O.value},{"vsm--link_active":w.value},{"vsm--link_disabled":e.item.disabled},{"vsm--link_open":E.value},e.item.class]})),R=t.computed((function(){return o({href:e.item.href?e.item.href:"#",target:e.item.external?"_blank":"_self",tabindex:e.item.disabled?-1:null,"aria-current":S.value?"page":null,"aria-haspopup":!!_.value||null,"aria-expanded":_.value?E.value:null},e.item.attributes)})),A=t.computed((function(){return["vsm--item",{"vsm--item_mobile":H.value}]})),H=t.computed((function(){return u.value&&I.value&&O.value}));return{active:w,exactActive:S,activeShow:g,show:E,hover:O,isFirstLevel:I,isHidden:L,hasChild:_,linkClass:P,linkAttrs:R,itemClass:A,isMobileItem:H,onLinkClick:function(t){(e.item.href&&!e.item.disabled||(t.preventDefault(),!e.item.disabled))&&(M(t,t.currentTarget.parentElement),_.value&&(e.item.href&&!w.value||(E.value=!E.value)),r(t,e.item))},onMouseOver:function(t){e.item.disabled||(t.stopPropagation(),C.value=!0)},onMouseOut:function(e){e.stopPropagation(),C.value=!1},onMouseEnter:function(t){e.item.disabled||(H.value&&(i.disableHover&&_.value||!i.disableHover)&&k.value&&clearTimeout(k.value),i.disableHover||M(t,t.currentTarget))},onMouseLeave:function(){var e;i.disableHover&&!_.value||(i.disableHover||(e=300),b(!1,e))},onExpandEnter:function(e){e.style.height=e.scrollHeight+"px"},onExpandAfterEnter:function(e){e.style.height="auto",u.value||a()},onExpandBeforeLeave:function(e){u.value&&I.value?e.style.display="none":e.style.height=e.scrollHeight+"px"},onExpandAfterLeave:function(){u.value||a()}}}var k={name:"SidebarMenuLink",inheritAttrs:!1,props:{item:{type:Object,required:!0}},data:()=>({router:!1}),computed:{isHyperLink(){return!(this.item.href&&!this.item.external&&this.router)}},mounted(){this.router=!!this.$router}};const y=["href","onClick"];k.render=function(e,n,o,l,i,r){const a=t.resolveComponent("router-link");return r.isHyperLink?(t.openBlock(),t.createElementBlock("a",t.normalizeProps(t.mergeProps({key:0},e.$attrs)),[t.renderSlot(e.$slots,"default")],16)):(t.openBlock(),t.createBlock(a,{key:1,custom:"",to:e.$attrs.href},{default:t.withCtx((({href:n,navigate:o})=>[t.createElementVNode("a",t.mergeProps(e.$attrs,{href:n,onClick:o}),[t.renderSlot(e.$slots,"default")],16,y)])),_:3},8,["to"]))},k.__file="src/components/SidebarMenuLink.vue";var C={name:"SidebarMenuIcon",props:{icon:{type:[String,Object],default:""}}};C.render=function(e,n,o,l,i,r){return t.openBlock(),t.createBlock(t.resolveDynamicComponent(o.icon.element?o.icon.element:"i"),t.mergeProps({class:["vsm--icon","string"==typeof o.icon||o.icon instanceof String?o.icon:o.icon.class],"aria-hidden":"true"},o.icon.attributes),{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(o.icon.text),1)])),_:1},16,["class"])},C.__file="src/components/SidebarMenuIcon.vue";var w={name:"SidebarMenuBadge",props:{badge:{type:Object,default:()=>{}}}};w.render=function(e,n,o,l,i,r){return t.openBlock(),t.createBlock(t.resolveDynamicComponent(o.badge.element?o.badge.element:"span"),t.mergeProps({class:["vsm--badge",o.badge.class]},o.badge.attributes),{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(o.badge.text),1)])),_:1},16,["class"])},w.__file="src/components/SidebarMenuBadge.vue";var S={name:"SidebarMenuItem",components:{SidebarMenuLink:k,SidebarMenuIcon:C,SidebarMenuBadge:w},props:{item:{type:Object,required:!0},level:{type:Number,default:1}},setup(e){const n=t.inject("vsm-props"),{isCollapsed:o,mobileItemStyle:l,mobileItemDropdownStyle:i,mobileItemBackgroundStyle:r}=m(n),{linkComponentName:a}=t.toRefs(n),{active:s,exactActive:u,show:c,hover:d,isFirstLevel:p,isHidden:v,hasChild:f,linkClass:h,linkAttrs:g,itemClass:k,isMobileItem:y,onLinkClick:C,onMouseOver:w,onMouseOut:S,onMouseEnter:B,onMouseLeave:x,onExpandEnter:M,onExpandAfterEnter:E,onExpandBeforeLeave:O,onExpandAfterLeave:I}=b(e);return t.watch((()=>s.value),(()=>{s.value&&(c.value=!0)}),{immediate:!0}),{isCollapsed:o,linkComponentName:a,active:s,exactActive:u,isMobileItem:y,mobileItemStyle:l,mobileItemDropdownStyle:i,mobileItemBackgroundStyle:r,show:c,hover:d,isFirstLevel:p,isHidden:v,hasChild:f,linkClass:h,linkAttrs:g,itemClass:k,onLinkClick:C,onMouseOver:w,onMouseOut:S,onMouseEnter:B,onMouseLeave:x,onExpandEnter:M,onExpandAfterEnter:E,onExpandBeforeLeave:O,onExpandAfterLeave:I}}};const B={key:0},x={class:"vsm--dropdown"};S.render=function(e,n,o,l,i,r){const a=t.resolveComponent("sidebar-menu-icon"),s=t.resolveComponent("sidebar-menu-badge"),u=t.resolveComponent("sidebar-menu-item",!0);return o.item.component&&!l.isHidden?(t.openBlock(),t.createElementBlock("li",B,[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(o.item.component),t.normalizeProps(t.guardReactiveProps(o.item.props)),null,16))])):o.item.header&&!l.isHidden?(t.openBlock(),t.createElementBlock("li",t.mergeProps({key:1,class:["vsm--header",o.item.class]},o.item.attributes),t.toDisplayString(o.item.header),17)):l.isHidden?t.createCommentVNode("v-if",!0):(t.openBlock(),t.createElementBlock("li",t.mergeProps({key:2,class:l.itemClass,onMouseover:n[0]||(n[0]=(...e)=>l.onMouseOver&&l.onMouseOver(...e)),onMouseout:n[1]||(n[1]=(...e)=>l.onMouseOut&&l.onMouseOut(...e))},t.toHandlers(l.isCollapsed&&l.isFirstLevel?{mouseenter:l.onMouseEnter,mouseleave:l.onMouseLeave}:{})),[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(l.linkComponentName?l.linkComponentName:"SidebarMenuLink"),t.mergeProps({item:o.item,class:l.linkClass},l.linkAttrs,{onClick:l.onLinkClick}),{default:t.withCtx((()=>[l.isCollapsed&&l.isFirstLevel?(t.openBlock(),t.createBlock(t.Transition,{key:0,name:"slide-animation"},{default:t.withCtx((()=>[l.hover?(t.openBlock(),t.createElementBlock("div",{key:0,class:"vsm--mobile-bg",style:t.normalizeStyle(l.mobileItemBackgroundStyle)},null,4)):t.createCommentVNode("v-if",!0)])),_:1})):t.createCommentVNode("v-if",!0),o.item.icon?(t.openBlock(),t.createBlock(a,{key:1,icon:o.item.icon},null,8,["icon"])):t.createCommentVNode("v-if",!0),t.createElementVNode("div",{class:t.normalizeClass(["vsm--title",l.isCollapsed&&l.isFirstLevel&&!l.isMobileItem&&"vsm--title_hidden"]),style:t.normalizeStyle(l.isMobileItem&&l.mobileItemStyle)},[t.createElementVNode("span",null,t.toDisplayString(o.item.title),1),o.item.badge?(t.openBlock(),t.createBlock(s,{key:0,badge:o.item.badge},null,8,["badge"])):t.createCommentVNode("v-if",!0),l.hasChild?(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass(["vsm--arrow",{"vsm--arrow_open":l.show}])},[t.renderSlot(e.$slots,"dropdown-icon",t.normalizeProps(t.guardReactiveProps({isOpen:l.show})))],2)):t.createCommentVNode("v-if",!0)],6)])),_:3},16,["item","class","onClick"])),l.hasChild?(t.openBlock(),t.createBlock(t.Transition,{key:0,appear:l.isMobileItem,name:"expand",onEnter:l.onExpandEnter,onAfterEnter:l.onExpandAfterEnter,onBeforeLeave:l.onExpandBeforeLeave,onAfterLeave:l.onExpandAfterLeave},{default:t.withCtx((()=>[l.show?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(["vsm--child",l.isMobileItem&&"vsm--child_mobile"]),style:t.normalizeStyle(l.isMobileItem&&l.mobileItemDropdownStyle)},[t.createElementVNode("ul",x,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(o.item.child,(n=>(t.openBlock(),t.createBlock(u,{key:n.id,item:n,level:o.level+1},{"dropdown-icon":t.withCtx((({isOpen:n})=>[t.renderSlot(e.$slots,"dropdown-icon",t.normalizeProps(t.guardReactiveProps({isOpen:n})))])),_:2},1032,["item","level"])))),128))])],6)):t.createCommentVNode("v-if",!0)])),_:3},8,["appear","onEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])):t.createCommentVNode("v-if",!0)],16))},S.__file="src/components/SidebarMenuItem.vue";var M={name:"SidebarMenuScroll",setup(){const e=t.inject("vsm-props"),{isCollapsed:n}=m(e),o=t.ref(null),l=t.ref(null),i=t.ref(null),r=t.ref(0),a=t.ref(0);let s=0,u=!1;const c=t.computed((()=>({height:`${a.value}%`,transform:`translateY(${r.value}%)`}))),d=()=>{o.value&&t.nextTick((()=>{f()}))};t.provide("emitScrollUpdate",d),t.onMounted((()=>{d(),window.addEventListener("resize",d)})),t.onUnmounted((()=>{window.removeEventListener("resize",d)})),t.watch((()=>n.value),(()=>{d()}));const p=e=>{if(!u)return;const t=e.clientY-l.value.getBoundingClientRect().y,n=i.value.offsetHeight-s;h(t-n)},v=e=>{u=!1,s=0,window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",v)},f=()=>{const e=100*o.value.clientHeight/o.value.scrollHeight;a.value=e<100?e:0,r.value=100*o.value.scrollTop/o.value.clientHeight},h=e=>{const t=100*e/l.value.offsetHeight;o.value.scrollTop=t*o.value.scrollHeight/100};return{scrollRef:o,scrollBarRef:l,scrollThumbRef:i,thumbStyle:c,onScroll:()=>{requestAnimationFrame(d)},onClick:e=>{const t=Math.abs(l.value.getBoundingClientRect().y-e.clientY),n=i.value.offsetHeight/2;h(t-n)},onMouseDown:e=>{e.stopImmediatePropagation(),u=!0,window.addEventListener("mousemove",p),window.addEventListener("mouseup",v),s=i.value.offsetHeight-(e.clientY-i.value.getBoundingClientRect().y)}}}};const E={class:"vsm--scroll-wrapper"},O={class:"vsm--scroll-overflow"};M.render=function(e,n,o,l,i,r){return t.openBlock(),t.createElementBlock("div",E,[t.createElementVNode("div",O,[t.createElementVNode("div",{ref:"scrollRef",class:"vsm--scroll",onScroll:n[0]||(n[0]=(...e)=>l.onScroll&&l.onScroll(...e))},[t.renderSlot(e.$slots,"default")],544),t.createElementVNode("div",{ref:"scrollBarRef",class:"vsm--scroll-bar",onMousedown:n[2]||(n[2]=(...e)=>l.onClick&&l.onClick(...e))},[t.createElementVNode("div",{ref:"scrollThumbRef",class:"vsm--scroll-thumb",style:t.normalizeStyle(l.thumbStyle),onMousedown:n[1]||(n[1]=(...e)=>l.onMouseDown&&l.onMouseDown(...e))},null,36)],544)])])},M.__file="src/components/SidebarMenuScroll.vue";var I={name:"SidebarMenu",components:{SidebarMenuItem:S,SidebarMenuScroll:M},props:{menu:{type:Array,required:!0},collapsed:{type:Boolean,default:!1},width:{type:String,default:"290px"},widthCollapsed:{type:String,default:"65px"},showChild:{type:Boolean,default:!1},theme:{type:String,default:""},showOneChild:{type:Boolean,default:!1},rtl:{type:Boolean,default:!1},relative:{type:Boolean,default:!1},hideToggle:{type:Boolean,default:!1},disableHover:{type:Boolean,default:!1},linkComponentName:{type:String,default:void 0}},emits:{"item-click":(e,t)=>!(!e||!t),"update:collapsed":e=>!("boolean"!=typeof e)},setup(e,n){t.provide("vsm-props",e);const{sidebarMenuRef:o,isCollapsed:l,computedMenu:i,sidebarWidth:r,sidebarClass:a,onToggleClick:s,onItemClick:u,onRouteChange:c,unsetMobileItem:d}=m(e,n);t.provide("emitItemClick",u),t.provide("emitScrollUpdate"),t.provide("onRouteChange",c);const{collapsed:p}=t.toRefs(e);l.value=p.value,t.watch((()=>e.collapsed),(e=>{d(),l.value=e}));return t.getCurrentInstance().appContext.config.globalProperties.$router||(t.onMounted((()=>{window.addEventListener("hashchange",c)})),t.onUnmounted((()=>{window.removeEventListener("hashchange",c)}))),{sidebarMenuRef:o,isCollapsed:l,computedMenu:i,sidebarWidth:r,sidebarClass:a,onToggleClick:s,onItemClick:u,onRouteChange:c}}};const L=t.createElementVNode("span",{class:"vsm--arrow_default"},null,-1),_=t.createElementVNode("span",{class:"vsm--toggle-btn_default"},null,-1);I.render=function(e,n,o,l,i,r){const a=t.resolveComponent("sidebar-menu-item"),s=t.resolveComponent("sidebar-menu-scroll");return t.openBlock(),t.createElementBlock("div",{ref:"sidebarMenuRef",class:t.normalizeClass(["v-sidebar-menu",l.sidebarClass]),style:t.normalizeStyle({"max-width":l.sidebarWidth})},[t.renderSlot(e.$slots,"header"),t.createVNode(s,null,{default:t.withCtx((()=>[t.createElementVNode("ul",{class:"vsm--menu",style:t.normalizeStyle({width:l.sidebarWidth})},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.computedMenu,(n=>(t.openBlock(),t.createBlock(a,{key:n.id,item:n},{"dropdown-icon":t.withCtx((({isOpen:n})=>[t.renderSlot(e.$slots,"dropdown-icon",t.normalizeProps(t.guardReactiveProps({isOpen:n})),(()=>[L]))])),_:2},1032,["item"])))),128))],4)])),_:3}),t.renderSlot(e.$slots,"footer"),o.hideToggle?t.createCommentVNode("v-if",!0):(t.openBlock(),t.createElementBlock("button",{key:0,class:"vsm--toggle-btn",onClick:n[0]||(n[0]=(...e)=>l.onToggleClick&&l.onToggleClick(...e))},[t.renderSlot(e.$slots,"toggle-icon",{},(()=>[_]))]))],6)},I.__file="src/components/SidebarMenu.vue";var P={install:function(e){e.component("SidebarMenu",I)}};return e.SidebarMenu=I,e.default=P,Object.defineProperty(e,"__esModule",{value:!0}),e}({},Vue);
//# sourceMappingURL=vue-sidebar-menu.min.js.map
